{"version":3,"sources":["components/Header.js","components/Footer.js","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeleteCardPopup.js","utils/api.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","card","onCardClick","onCardLike","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","link","name","type","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","key","ImagePopup","onClose","PopupWithForm","isOpen","title","children","button","onSubmit","isLoading","isValid","noValidate","disabled","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","required","minLength","maxLength","id","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","AddPlacePopup","setLink","ConfirmDeleteCardPopup","onDelete","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_handleOriginalResponse","method","body","JSON","stringify","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeleteCardOpen","setIsConfirmDeleteCardOpen","selectedCard","setSelectedCard","deleteCard","setDeleteCard","setCurrentUser","setCards","setIsLoading","closeAllPopups","loadUserAndCards","a","getUserProfile","user","getInitialCards","console","log","handleClosePopupEsc","keyCode","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","catch","err","changeUserProfile","result","finally","addCard","filter","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.683f4fbf.chunk.js","sourcesContent":["import React from \"react\";\r\nimport logo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} className=\"header__logo\" alt=\"Логотип\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const { card, onCardClick, onCardLike, onCardDelete } = props;\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `elements__button ${\r\n    isOwn && \"elements__button_visible\"}`;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `elements__like-button ${\r\n    isLiked && \"elements__like-button_active\"}`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n     onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"elements-template\">\r\n      <li className=\"elements__item\">\r\n        <img\r\n          onClick={handleClick}\r\n          src={card.link}\r\n          alt={card.name}\r\n          className=\"elements__image\"\r\n        />\r\n        <button\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteClick}\r\n          type=\"button\"\r\n        />\r\n        <div className=\"elements__description\">\r\n          <p className=\"elements__title\">{card.name}</p>\r\n          <div className=\"elements__like\">\r\n            <button\r\n              className={cardLikeButtonClassName}\r\n              onClick={handleLikeClick}\r\n              type=\"button\"\r\n            />\r\n            <p className=\"elements__like-count\">{card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const {\r\n    cards,\r\n    onEditAvatar,\r\n    onEditProfile,\r\n    onAddPlace,\r\n    onCardClick,\r\n    onCardLike,\r\n    onCardDelete,\r\n  } = props;\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div onClick={onEditAvatar} className=\"profile__avatar\">\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"Аватар профиля\"\r\n            className=\"profile__avatar-img\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button\r\n            onClick={onEditProfile}\r\n            className=\"profile__button-edit\"\r\n            type=\"button\"\r\n          />\r\n          <h3 className=\"profile__subtitle\">{currentUser.about}</h3>\r\n        </div>\r\n        <button\r\n          onClick={onAddPlace}\r\n          className=\"profile__button-add\"\r\n          type=\"button\"\r\n        />\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n              key={card._id}\r\n              card={card}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <section className={`popup popup-photo ${props.card && \"popup_opened\"}`}>\r\n      <div className=\"popup-photo__container\">\r\n        <img\r\n          src={props.card ? props.card.link : \"\"}\r\n          alt={props.card ? props.card.name : \"\"}\r\n          className=\"popup-photo__place\"\r\n        />\r\n        <p className=\"popup-photo__title\">\r\n          {props.card ? props.card.name : \"\"}\r\n        </p>\r\n        <button\r\n          onClick={props.onClose}\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  const {\r\n    name,\r\n    isOpen,\r\n    onClose,\r\n    title,\r\n    children,\r\n    button,\r\n    onSubmit,\r\n    isLoading,\r\n    isValid,\r\n  } = props;\r\n  return (\r\n    <section className={`popup popup_${name} ${isOpen && \"popup_opened\"}`}>\r\n      <form className=\"popup__container\" onSubmit={onSubmit} noValidate>\r\n        <button\r\n          onClick={onClose}\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n        />\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        {children}\r\n        <button className=\"popup__button-save\" type=\"submit\" disabled={isValid}>\r\n          {isLoading ? \"Сохранение...\" : button}\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const { isOpen, onClose, onUpdateUser, isLoading } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || \"\");\r\n    setDescription(currentUser.about || \"\");\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      button=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n      <div className=\"popup__fields\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"popup__input popup__name\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            id=\"name-input\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={handleNameChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"name-input-error\" />\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"popup__input popup__about\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            id=\"about-input\"\r\n            name=\"about\"\r\n            value={description}\r\n            onChange={handleDescriptionChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"about-input-error\" />\r\n        </label>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const { isOpen, onClose, onUpdateAvatar, isLoading} = props;\r\n  const avatarRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = \"\";\r\n  }, [onClose]);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      button=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n      <div className=\"popup__fields\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__link\"\r\n            required\r\n            id=\"link-input\"\r\n            name=\"link\"\r\n            ref={avatarRef}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"link-input-error\" />\r\n        </label>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const { isOpen, onClose, onAddPlace, isLoading } = props;\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n  // const [isValid, setIsValid] = React.useState({name:false, link:false});\r\n  // const [validationMessage, setValidationMessage] = React.useState(\"\");\r\n  // const [inputValue, setInputValue] = React.useState({name:\"\", link:\"\"})\r\n\r\n  React.useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }, [onClose]);\r\n\r\n  // function inputValidate (evt) {\r\n  //   if (evt.target.validity.valid) {\r\n  //     setIsValid(false);\r\n  //     setValidationMessage(evt.target.validationMessage);\r\n  //   } else {\r\n  //     setIsValid(true);\r\n  //     setValidationMessage(\"\");\r\n  //   }\r\n  // }\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link\r\n    });\r\n  }\r\n\r\n  // function handleInputChange (evt) {\r\n  //   const {name, value} = evt.target;\r\n\r\n  //   setInputValue({\r\n  //     ...inputValue,\r\n  //     [name]: value,\r\n  //   });\r\n  //   setIsValid({\r\n  //     ...isValid,\r\n  //     [name]: evt.target.validity.valid,\r\n  //   });\r\n  //   setValidationMessage({\r\n  //     ...validationMessage,\r\n  //     [name]: evt.target.validationMessag,\r\n  //   });\r\n  // }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      button=\"Создать\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    >\r\n      <div className=\"popup__fields\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            className=\"popup__input popup__place\"\r\n            required\r\n            minLength=\"1\"\r\n            maxLength=\"30\"\r\n            id=\"place-input\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={handleNameChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"place-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__link\"\r\n            required\r\n            id=\"link-input\"\r\n            name=\"link\"\r\n            value={link}\r\n            onChange={handleLinkChange}\r\n          />\r\n          <span\r\n            className=\"popup__input-error\"\r\n            id=\"link-input-error\"\r\n          >\r\n          </span>\r\n        </label>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeleteCardPopup(props) {\r\n    const { card, isOpen, onClose, onDelete } = props;\r\n\r\n    function handleSubmit(evt) {\r\n      evt.preventDefault();\r\n      onDelete(card);\r\n    }\r\n\r\n\r\n    return (\r\n      <PopupWithForm\r\n        name=\"delete\"\r\n        title=\"Вы уверены?\"\r\n        button=\"Да\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n      ></PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default ConfirmDeleteCardPopup;","export class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _handleOriginalResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then(this._handleOriginalResponse);\r\n  }\r\n\r\n  getUserProfile() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._handleOriginalResponse);\r\n  }\r\n\r\n  changeUserProfile(name, about) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      \"Content-Type\": \"application/json\",\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then(this._handleOriginalResponse);\r\n  }\r\n\r\n  avatar(avatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    }).then(this._handleOriginalResponse);\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      \"Content-Type\": \"application/json\",\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then(this._handleOriginalResponse);\r\n  }\r\n\r\n  changeLikeCardStatus (_id, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\r\n      method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\r\n      headers: this._headers,\r\n    }).then(this._handleOriginalResponse);\r\n  }\r\n\r\n  deleteCard(_id) {\r\n    return fetch(`${this._baseUrl}/cards/${_id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleOriginalResponse);\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-14\",\r\n  headers: {\r\n    authorization: \"5f1f213c-66ca-486f-9fed-5e9420f5da01\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmDeleteCardPopup from \"./ConfirmDeleteCardPopup\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\nimport { api } from \"../utils/api\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmDeleteCardOpen, setIsConfirmDeleteCardOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [deleteCard, setDeleteCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState();\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleConfirmDeleteCardClick(card) {\n    setIsConfirmDeleteCardOpen(true);\n    setDeleteCard(card);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsConfirmDeleteCardOpen(false);\n    setSelectedCard();\n  }\n\n  const loadUserAndCards = async() => {\n    try {\n      const user = await api.getUserProfile();\n      const cards = await api.getInitialCards();\n      setCurrentUser(user);\n      setCards(cards);\n    }\n    catch (err) {\n      console.log(err);\n    }\n  }\n\n  React.useEffect(() => {\n    loadUserAndCards();\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete() {\n    api\n      .deleteCard(deleteCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deleteCard._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setIsLoading(true);\n    api\n      .changeUserProfile(name, about)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsLoading(true);\n    api\n      .avatar(avatar)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    setIsLoading(true);\n    api\n      .addCard(name, link)\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  React.useEffect(() =>{\n    const handleClosePopupEsc = (evt) => {\n    const ESC = 27;\n    if (evt.keyCode === ESC) {\n      closeAllPopups();\n    }\n  }\n    document.addEventListener(\"keydown\", handleClosePopupEsc);\n    return () => {\n      document.removeEventListener(\"keydown\", handleClosePopupEsc);\n    };\n  }, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleConfirmDeleteCardClick}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <ConfirmDeleteCardPopup\n          isOpen={isConfirmDeleteCardOpen}\n          onClose={closeAllPopups}\n          onDelete={handleCardDelete}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}></ImagePopup>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";"],"sourceRoot":""}